# node-red-contrib-discord-updated 4.1.0

Highlights
- Node-RED metadata added (`node-red.version >= 4.0.0`) and examples declared for Flow Library scorecard compliance.
- Full example coverage: every runtime node has an example; overlapping consolidated into two umbrella flows:
  - Guild/Admin Tools: guild, channel name, commands, events, emojis, roles
  - Members/Realtime: members, reactions, typing, voice, client
- Docs refresh: README compatibility matrix, example import notes, node reference.

Breaking Changes
- Baseline raised to Node.js 20 and Node‑RED 4.x.

Features & Enhancements
- Entity select menus (user, role, channel, mentionable) for interactions and components.
- Command manager supports `nameLocalizations`/`descriptionLocalizations`.
- Scheduled events validation (stage/voice) with clearer errors.
- Message flags: `suppressEmbeds`, `suppressNotifications`.
- Bulk message fetch/delete with safety controls.
- New managers: `discordEmojiManager`, `discordRoleManager`, `discordVoiceState`.
- Attachment metadata: description, spoiler, duration/durationMs.
- Interaction follow‑ups: create/edit/delete, ephemeral handling.
- `discordClient` exposes safe handles (`msg.discord.get()/drop()`).

Fixes
- Scoped BigInt JSON handling; interaction cache auto‑eviction; globals leak fixes.
- Better application id resolution and REST error surfacing.
- Consistent Node‑RED async patterns (`send/done`) and clearer statuses.

Upgrading
- Requires Node.js >= 20 and Node‑RED >= 4.0.0.
- Import examples via Menu → Import → Examples → node-red-contrib-discord-updated.

