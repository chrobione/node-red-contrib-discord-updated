<script type="text/javascript">
  RED.nodes.registerType('discordActivity', {
    category: 'Discord · Advanced Tools',
    color: '#7289da',
    defaults: {
      name: { value: "", required: false },
      atext: { value: "", required: false},
      aurl:  { value: "", required: false },
      atype: { value: "", required: false },
      astatus:{value: "", required: false},
      token: { value: "", required: true, type: "discord-token" }
    },
    inputs: 1,
    outputs: 1,
    icon: "font-awesome/fa-gamepad",
    paletteLabel: 'Discord Activity',
    label: function () {
      return this.name || "Discord Activity";
    }
  });
</script>
<script type="text/x-red" data-template-name="discordActivity">
    <div class="form-row">
        <label for="node-input-token"><i class="icon-tag"></i> token</label>
        <input type="text" id="node-input-token" placeholder="token">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-atext"><i class="icon-tag"></i> Text</label>
        <input type="text" id="node-input-atext" placeholder="Text to Show">
    </div>
    <div class="form-row">
        <label for="node-input-aurl"><i class="icon-tag"></i> Youtube or Twitch</label>
        <input type="text" id="node-input-aurl" placeholder="Url">
    </div>
       <div class="form-row">
        <label for="node-input-atype"><i class="icon-tag"></i>type</label>
  <select id="node-input-atype">
    <option value="0">Playing</option>
    <option value="1">Streaming</option>
    <option value="2">Listening</option>
    <option value="3">Watching</option>
    <option value="4">Custom (Not Working on Bots)</option>
    <option value="5">Competing</option>
    <option value="6">Reset Activities</option>

  </select>
    </div>
      <div class="form-row">
        <label for="node-input-status"><i class="icon-tag"></i> Show The Bot As</label>
  <select id="node-input-astatus">
    <option value="online">Online</option>
    <option value="idle">Afk</option>
    <option value="invisible">Offline</option>
    <option value="dnd">dnd</option>
  </select>
    </div>




</script>
<script type="text/x-red" data-help-name="discordActivity">
  <p><strong>What it does</strong> — Changes the bot’s presence: the “Playing…/Listening…” text and online status badge that users see.</p>
  <p><strong>When to use it</strong> — Show that your bot is running, advertise the command prefix, or hint at new features.</p>

  <h3>Inputs</h3>
  <dl class="message-properties">
    <dt>text <span class="property-type">string</span></dt>
    <dd>The activity line (for example “Watching the logs”).</dd>
    <dt>type <span class="property-type">number</span></dt>
    <dd>0=Playing, 1=Streaming, 2=Listening, 3=Watching, 5=Competing, 6=Reset. (Discord does not allow custom statuses via bots.)</dd>
    <dt>status <span class="property-type">string</span></dt>
    <dd>Overall presence: <code>online</code>, <code>idle</code>, <code>dnd</code>, or <code>invisible</code>.</dd>
    <dt>url <span class="property-type">string</span></dt>
    <dd>Required when type = Streaming. Must be a valid Twitch or YouTube stream link.</dd>
  </dl>

  <h3>Tips</h3>
  <ul>
    <li>Set the fields directly on the node for static text, or feed them via <code>msg.text</code>, <code>msg.status</code>, etc., for dynamic updates.</li>
    <li>Use the “Reset” type (6) to clear any previous activity and show only the status badge.</li>
  </ul>
</script>
