<script type="text/javascript">
    RED.nodes.registerType('discordChannelName',{
        category: 'Discord · Guild Control',
        color: '#7289da',
        defaults: {
            name: {value: "", required: false},
	     channel: {value: null,required: false},
	     token: {value: "", required: true, type: "discord-token"}

        },
        inputs: 1,
        outputs: 1,
    icon: "font-awesome/fa-tag",
        paletteLabel: 'Discord Channel Name',
        label: function() {
            return this.name||"Discord Channel Name";
        }
    });
</script>
<script type="text/x-red" data-template-name="discordChannelName">
    <div class="form-row">
        <label for="node-input-token"><i class="icon-tag"></i> token</label>
        <input type="text" id="node-input-token" placeholder="token">
    </div>
    <div class="form-row">
        <label for="node-input-channel"><i class="icon-tag"></i> Channel</label>
        <input type="text" id="node-input-channel" name="ch" placeholder="Channel ID">
        <p>(leave 'channel' blank to use <code>msg.channel</code> as channel ID to send to)</p>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>
<script type="text/x-red" data-help-name="discordChannelName">
  <p><strong>What it does</strong> — Renames a text or voice channel.</p>
  <p><strong>When to use it</strong> — Rotate event channels (e.g., “🎉 party-night”), mark channels as closed, or tidy temporary rooms created by automations.</p>

  <h3>Required input</h3>
  <dl class="message-properties">
    <dt>channel <span class="property-type">string | object</span></dt>
    <dd>The channel id or an object containing <code>id</code>.</dd>
    <dt>name <span class="property-type">string</span></dt>
    <dd>The new channel name. Discord limits names to lowercase letters, numbers, and hyphens.</dd>
  </dl>

  <h3>Output</h3>
  <dl class="message-properties">
    <dt>payload <span class="property-type">object</span></dt>
    <dd>Confirms the channel id and name applied.</dd>
  </dl>

  <h3>Tips</h3>
  <ul>
    <li>Send the channel object from <code>discordMessage</code> or <code>discordGuildManager</code> straight into this node to avoid manual ids.</li>
    <li>Remember that frequent rename spam can annoy users—throttle with a delay node if necessary.</li>
  </ul>
</script>
